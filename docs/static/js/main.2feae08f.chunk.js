(this.webpackJsonpminglingo=this.webpackJsonpminglingo||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.8c74ea89.svg"},,,,,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/check.33410986.svg"},function(e,t,n){e.exports=n.p+"static/media/gift.f4453374.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB8CAYAAACi9XTEAAAAAXNSR0IArs4c6QAAFV5JREFUeAHtnXuQFdWdx5nhFWZ4FK8Zlk2UkYDIm5pVlogGcMlqEFNioRaUPMzuHxak3F2XbLIx67hJNq6uu6YMsSp/EMSFhCAkhiipEIGwGAp1wmt4iImDq4kOCCyPGQSGYT/fm+5Lz53u0933dve9F25XnXtOn/M7v/P7/b7n3advd+pUukoWKFmgZIGSBQrUAmUFKlfWYtXW1nZtbm6u6dy5cxVMel66dKmXfLm2tjb5ncrLy8/gpVxZWdlphS9evHiksrKysb6+/oJorpSraAGePXt25/3799cCWi1gDMMNt1wNoHbJBiDAbiVfI+4Q7m35xP121KhRb65Zs+Yi90V3FQ3AdXV15atXrx6PwacCoNwtWLt3QhY/TblbcZspd/N99923C3naEio7p2IKGmCMWUbrmYw/Dy3vwe+bk7YRZQboE7Bai79i37592/AvRcQ6cjYFCfDo0aOH0vXOwz2AxjWRax0tw0bG9BdwKxoaGn4fLevcuRUUwDfccMN0Wuk/o9aU3FXLC4fNtOZvHzhwYGNeSncpNO8Aqxumxc6ktX6N8E0uMhZdFCC/Tov+Fi16fb6777wCPHLkyNkA+ygIji06FIMJvAegv8lsf00w8uip8gIwXfFoVFlKi701IpUu0VLeg5eWN28Rtpc5x7k/QzlnMHRqvWuVl1oXE2+vkfsRP4x7e6l1PeFPEReJfZBnK7wW0XU3WOUn5kWiQFBpb7755l7Hjh17DIUfxoBZrVWtsrRE2QmfTQC3ifA2ZrPauIjsYvauSjCZHmYask4jPAFXnm0ByNoKn+/079//8ddee02VLZErMYCt7vgZtBqcjWYYSDtMPwfQlQJ17969Wqokdo0ZM6avwMbNpdA7AatrloX/kV22h6mQL2aZP1S22AFm67CipaXlWQzyYCjJLGKAVUtd3qNHj1VsI36UDY+o86DTgLNnz85BpwU4tezQFzotq6io+BI6tYTOHCJDrADTzY2kxv8YI4wKIVOKFAO8Sk3/CjPRN8PmTZKeFcBfsI/9BDreFrZcdNxHb3QvrXl/2LxB6WMDmC55IUp/F1cRVBiLbi/AfhmlfxEyX17Jqcy3A/STCDEmjCCA3IJbzEz7B2HyBaXNetLgVYD2jJklf4+WuywkuO8D7ML7779/fLGBK1tIZskuHbh938s+mfGykWwlm8l2mem53kfagu+4447ujY2NKxHqnhCCnYL2ib59+z6zffv2syHyFSzppEmTepw4ceLvEPAruDAPRNbW1NTM3bBhw7molIsM4IkTJ/Y+efLkSwg2JYhwdEsXqL3P8Qz2G4UyeQoidxgaTcZ4Nv11dH0IXYPOurf06dPnCzt27FDFz/mKBGDGn0GMPxozxwWRCIXfY3JxF93ariD0xU7DfGQCAL+E0+ZJkGs3Xf3t2OfDIMQmmpwBHjFiRH8K2IYbYSrIkfabLl26zGJ23OSIu+KDzLarW1tb16HoZwIqexC6yQcPHjwWkN6VLKdBfezYsZW0xpfhHBTc5dTMqVcbuLK8dJbuBJfrPsA1QrbVPkIAWk+SrFvwlClTujQ1Nf2MbucOT+6XE7S1uITa+J+Xo67eEL3eP6D9UzjfBgbIG6qrq+/asmWLjhOFvnwLcOMIqGWAq2VQEHBPUnNnlMC9bEnZgjnIncScvBzrHpKNLVtn1RizAphJVR0F67SF8aL2vd21a9e/1BrRSHgVJrKxsUG2kY381JetZXM/Orf00LWCGeFtLMx/CTO/ylGPAtOTfijgpmQhx+khxoULF3QCpNZHzjZa/eeoGK/60LVLDgWwZoIsh3ZTo6rbccm4oVZ+0K1btxt37979h4yk0q2LBcaNG/fn58+ffwO7/plLcjoKu2qiNi7MJNWvFaaZaxsNcP/bD1wynEOQu0vgpk3nG5CtZDPZzkQs2wuDMFuanU0MnWkM9Doz9TfOOLcw3chCjS9uaaU4bwscPXr0D1VVVYex8SxvqlTKdcxpWj/66KOtPnSp5EAAM8CPpOAfksNITy18kmMppaVQEMu70ADynoEDB2rde7NLcjoKO98yaNCgF48cOeL7fDxQF023oMd+xr1UCv05J/6/mpaiFMjKArKhbGnKLCzYFVtqorHTfCdZtN45ALzSzuDmI9C+fv36TUryrJGbHFdKnM6uHT9+fDtAGg9KMOGaS3e9yqS3EWA9ITp16tRBCvKc3QHuMfaWb2I59I6poFJaOAuwfLqOVvo6ttdev+uF7T/o3bv3CNOTJ2MXDbiPm8C1Sl1UAtfV/jlFWjZdZGIibMCozkTj2YKttdk7MOlmYPAGk6qJ1KSCffnKIHvBJ2H7Mk567EDQG72Exfbn2XO4zmtZ6tmCWXgv8QFXZS4pgetl+tzjLdsuMXESRsLKi8a1BfMYsIpMh8nUwzMjMz1a70yv9FJ8dBagFa8HSD2c8LrO0oqH7Nmz50gmgWsLZnD/ewg9wSXtIhsa/5TJrHQfjwUsW180cO9hYdaBpAPA1gl+4+BO17GM6XlsZ3k7SHmVR8jWsrnJDDwAWiTsMmk6AMya90GI9FKW60VBOon/mGtiKTJOC+idLtne6+plYdcuvcMLYNSEee0oOt48zdj7Qcfo6GM4+aBHaH+LG4J7i3HmGcaZRsJ5u5if1DA/0ZHY63Hv4r7PA/z6uAWSzRmLn6acr3uVBXbzSRNN+mo3yWLXajy1YGc6tWPgCG/HfTqJHSu9rMbEYhUuXQmpwc3c349BjVt5HcWOJoYKdycy/AgZKm2O3Lfi5vCAZY0dF5dvvZ35O/hXeZXB7tYEuvT0adV2XXSA1rs0CXCpaN0w4nNOcKWQDIsx18rQXgrGFW+Bu9YJriVTF8kqmeMq2+Zr2d64B52JYRpgHaKD0RybmYuvl6yfd4mPI0pPr1y36IjvljTIDnBdQbRkvSEOQ2TytDAwbSzNsbBMZU0DzKMn/QGK6aTGFsYBjTmxXyjh9+A7MZD9wLWNgczn7XCcvoXBFq8yhKGwtNPTANO0b7cj3XwUWO4WH0cck4lD8D1s4p1ESw4KrmS1ZDaJHFmaHxZOLNMAk2malwSkneEA3Vqv9Kjjrb8NXEC5xlYRJ8hBwbVkXJDkXx0KC2FisPtUOy0F8IQJEwZirFF2pIv/KsuTZpf42KKYKf8ame7JB8hhwJWMkjU2Q7gwtrAwna4cLUyVNQXwuXPnphAuU4TbhZFNzNyyRBKn5VDSIGcBbl6WbD6YlFmY/glgjJhu0h7IbPKIjz06SZCLBVzL6EZMbEztMfgWL6SoKU0s4vd5pScRnwTIRQZuJ2EibAz2T2Farv9dhmi4gXCzIS2xpDhBLjZwHUY3YTNc56fLMdy1NGfXBbwYUUti32d1CGwMxgFyEYNrxEaYrlu37tpy1kzDTFYFYK1JC+aKEuRiBleA+GHDc4Xh5SBt6p47sXn9VsGgawkSBcjFDq5M4YeNsNUkyxNgakgri+p3LLsWlJcLyFcCuAJD2AgjAzDDdWpPa80ZbkRk/h17n8Yu3C1fknFhwZJs6KWnQp7zDovmPDTaxMjLOjeoDcHvbeT8tBs9er6sFuz5P05kfM8tYyHFhW3JVxK4wsEHo94CuJcBsNOGtIJJCgMyBrkiWq7D+CaMegngng7izKBpQzuTNq/3QUE2CUnrLopuOUMHE0Y9/QA21Y6McvJ/mwvIRQqujG7CyBdgU+3IP6IuEmQDchGDKwuYMOqpdbDnH22h+FkXGxZ8lEBG9nanC01Ci1Z5TDSFmmbCSNiWQ+B51hYC09sNhapzJy2dkP2RoAKKVnmC0hcSnQkjYasx2NjEC0mZILIEXRc7eWGkxM54OcuNKGycJPsBbFpCRSRfdGyyAdcuvYhBNmF0xg9gU+2wbVMQfi7g2goUKcgmjFIAm6bZptph2yXvflBwGZPOy5kELkKQTRidVgv2/GdxjPEpkzEKIS0MuICnT9Tm5SBfXLbyweiUZtGNhsKH8H/FXQ3peU0KC66WQkHXycXQki1shniBIGzVgj0f6KNkF/4o8zovBvmMzwZcW94rBWRhI4xsvVz8Q2rBngArA6cC9JpkQV25gGsrciWA7IeNsOXfAcqN/1dMDfE8EGAbK0k/CnBteYsdZD9sOPFxqByDvQvSnjNLmNTaBsm3HyW4ti7FDLIJG2E6a9asd1NvM3AqYC/Eo22lnT6ETZzqGOSMy0c4DnCdesTN31lWVGFw+xDcXN8IBbcGcBujSZau//mT1/FXDHjb3vTeUsdMEcckYfxia8nCxAtcy/wpTFMAg7bpALXop0WMWWB2SYBrC1NkIBsxsTFNAdy9e/ctKHnJVjTTp6bclhmXxH2S4Nr6FAvIPphcsjC9/Eahzzis94MHJfkKKeB+llr4SxTJyxmqkJXrc1SMX9uVJG5fHyRjDazx12sfei/yjJUcqRasAMSeb6uJEQzvEV0Sl/W+1PJ8gSsdw7RkyJdbMidhnk7CwgCuZEgPuWmAWQ8bv20EwwWJSE8hzP609h5iKo/WHfsBuaAgS1ZLZpPIkaX5YeHEMg0wH4TYiNFMryNOoRu/NjIpDYxQoLshWQfXYwfXLj8oyMhsHEpsfrn6FgZTvPgIQ2Fpp6cBtr6Nt8pOcPHLUGK+S3wcUfpvxmNujJME1y7fD2RL1gM2fZy+hUFq/8KjnFXO7xymARYxTXuFRyY7ehF/+OU1sNs0Ofv8U5ue2z6Ea/feDff6p7u8vE7iALndf5VIRskqmXNW3IeBZftFJrJMDDs7ifmsy4cDBgzQd3tcd0eIr8Rd5Js96UHcmT/KMLLsR5ZX4HkJp9b8Cv9VOR9Dvh5lOWF4ofehwYMH/5BNfrWg/8NpYvoQ4++vwvDJlhZ7PErezxvy70WWx5zpHZo6OySP8M7wfziJnGG1Iu6HwegDZ3wpHK8FGHv1YRS9aKZG5nrRev+Rv3Z42pnYrotWAk8gluF5HuNRAbg60Zau5Cwgm5vARZLTFnbthOoAsL4WSk1Y2o6q480X+VBlIv/N2LHoqy/GsvUXTZoLM2GXSdMBYBHwHaT/wjO91dCZv5B/IpNZ6T4eC1i2bjdfyijprIVZRrRjJ8uZwpbkEcba7zvjXMJ3MV57/v2SC30pKgsLMPbeSra7TFmFlTBzo3FtwSJkxvoUGY1Tf8aEp9yYluIitcCTJm7CSFh50XgCbH1o6XteGRUPwBNpxfeaaEpp2VtAtpWNfTgs9foolvJ5AqxEvounD0EYl0MsqZaOHz9+iOhLV3QWkE1lWxNHYQNGdSYaI8D66KHWViYGpA34+OOPX9IjLB+6UnJAC2jHSjaVbU1ZhI3pw5TKawRYBOwcaX/ab+dqLI+wXqA76bBxIh6lK7gFZENa7gpypJ7nGnJutrAxkAQAWLlZQC+mO7hg4oRgd1Pz6kw0pTR/C8iGsqWJUliwLFpkorHTTGsrm6YT+8JH+fS49oSnpSNdAgh2a3V19T7tI7skl6J8LMCkajat91nIjD0hANexJbnOh10q2beLtpnw6fF/g7Hfprq6l+ephePtfCU/mAVkMxrIcqj9wP2VsAjG1YdZJhO2zKp5krIbQbyeNqWyUBH+lzNcN3otvjP5Xu33+torc5g3sOs1Jltg1yaGy3ENDQ2mgxntWARuwcolxhQyl2BbOy4ZNxKUz7+tK82sMwzjcisbyVZ+4JK1TbYPA66KCzQGO+VifG3kSEhnBPqsM94lfA2tfQZj8ivkOemSftVH0S1fwz6zhr0b/YzBkugbjLt60hfqMvb3XpwAt4wJwfP4D3jROOKPMOO7m5r3G0fcVR9kuPsM4P4EQ1T5GYOW+wLgzsfXRDfUFaqLtjmrIFrmg/gb7DiDX4Uim9g0n2eguaqSZAvZBKWDgLvBsnVocGXU0F20jcThw4fbOL7yU2bNtxH3STvew9dLynez1KpYvHjxJg6FZSWsB++iidY3FJqamp6g59OJGdOL2ymdaEA7KioqZmzfvt34qT+TAbLqop0MeQOgP/fbcCOc8Ybwej5ROzeJr5gaZEg8yfo07EoKnhmw8IPQTeawn+vp0oA8zGuuoEyYLAxiQqWD8+OC5KFmNvDuzMxdu3YdDkJf7DR6cMCHqtbTckcH1GU3y6Hb2Yr8MCC9J1nWXbSTI7PkM0OHDl2FEpOIH+JM8whrXF5Il93GZKOe7r7Vg66oo/nM6yd69OjxCLqq5V4TUJktffr0+eudO3fm1HLtsrKaZNmZnb6eatTU1OgLpmud8YZwH2r0vzMmvcWk4wHCOQ8XhrISTdJYK52kG3rpaFOfgAKslQ39nhAF5JUii9yoUm716tXfRbGHQglSVqbPki9J6oxxGNnC0ALsX0H/FPqH2q5l2HqOLcjF2K8tTHl+tJEDbBfIOnkhSgroCjsuoP8Ltjm/zAnBvQHpC4JsDBfbjTpeo14s8AWwLbjFrHN/EDhTCMLYAJYMTL5Gsoz6MSCPCiGTSFWLn+es0b+wn/1+yLyJkrPV+Em2Gv+VQufjQg15ALuPHap7mUzF9vQtVoBlaf6NraKlpeVZQH5Q92EuDKBn0K/glrMefLm+vt74TDoM71xo9Q9z6DQDHgtwn0e30P8GiG7L0OlL6NSSiyx+eWMH2BbAetb5DPeD7biQ/lGMsooav5KXreujHqv8ZNHcgq9819IjzQXQOdAP9Mvjkf5HlkAP02pf9EiPNDoxgCW1tdjXQb6HMZLvTo6XpuQ/QdoWeGzCWJvi6uI0xLC+n0Z50yhvCuX19ZLJLx4ereT/Dps8jye5yZMowLYRmGlqwb8UhW+143LxMZ7WjAdwh3D61uIh4vSi1vF+/fqdmT59enNmi1eL3LhxY+Xx48d7QtsP2mHkG26567kfQdh46I30QBf8t0K4iBVCQ6AMERLlBWBbfqvbfpR7vwNmdpZs/UsYWWPdGYtBTwDU7D5u/fcwpHyTGfKabAXPNV/cCvrKh6HL2M2aydj2NcI3+WYoAgIq0+sA+y0eka4nnNcHK3kH2IkXXfd0QP4qcVOd8UUU3gyg36Yr3lgoMhcUwLZRaNFDadHzcDpQUGPHF6jfSGt9AbeCFvv7QpOxIAG2jaTum5nsZPx5xOm/obKexdo8o/BppZrFr8VfwQx+W767YZNOBQ2wU3DNetnjHo8xpwK0nF5d7e2kiTF8mnK34jZT7mb2jHdlzspjLDsn1kUDcKaW+mc5ZqfaeKglzbnEqQGErNbYAKjHlo04Lbfelk/cb+lF3mST4yL3RXcVLcBeltY2YnNzcw0bIFXQaDnUS74clUG+/i5Ky6WUA8DTCrOhcaSysrKxULZDJWcU1/8DQMPBGOwpU2AAAAAASUVORK5CYII="},,function(e,t,n){e.exports=n.p+"static/media/caret-left.4fa5bd11.svg"},function(e,t,n){e.exports=n(46)},,,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),l=n.n(i),o=(n(27),n(7)),s=n.n(o),c=n(11),u=n(6),m={application:{name:"MINGLINGO"},bingo:{sheet:{width:5,height:5},slot:{variations:[{value:"istj",label:"IS\nTJ",description:"The Inspector"},{value:"infj",label:"IN\nFJ",description:"The Counselor"},{value:"intj",label:"IN\nTJ",description:"The Mastermind"},{value:"enfj",label:"EN\nFJ",description:"The Giver"},{value:"istp",label:"IS\nTP",description:"The Craftsman"},{value:"esfj",label:"ES\nFJ",description:"The Provider"},{value:"infp",label:"IN\nFP",description:"The Idealist"},{value:"esfp",label:"ES\nFP",description:"The Performer"},{value:"enfp",label:"EN\nFP",description:"The Champion"},{value:"estp",label:"ES\nTP",description:"The Doer"},{value:"estj",label:"ES\nTJ",description:"The Supervisor"},{value:"entj",label:"EN\nTJ",description:"The Commander"},{value:"intp",label:"IN\nTP",description:"The Thinker"},{value:"isfj",label:"IS\nFJ",description:"The Nurturer"},{value:"entp",label:"EN\nTP",description:"The Visionary"},{value:"isfp",label:"IS\nFP",description:"The Composer"},{value:"sp",label:"SP"},{value:"p",label:"P"},{value:"ap",label:"AP"},{value:"em",label:"EM"},{value:"asc",label:"ASC"},{value:"ba",label:"BA"},{value:"mirts",label:"MI/RTS"},{value:"dadqb",label:"DAD/QB"},{value:"se",label:"S/E"},{value:"rni",label:"R&I"},{value:"itfac",label:"IT/FAC"},{value:"alf",label:"A/L/F"},{value:"ea",label:"EA"},{value:"comvg",label:"COM/VG"},{value:"pdrec",label:"PD/REC"},{value:"soa",label:"SO\nAdults"},{value:"soc",label:"SO\nChildren"},{value:"off",label:"OFF"},{value:"6ma",label:"6MA"},{value:"nep",label:"NEP"},{value:"kan",label:"KAN"},{value:"gt",label:"GT"},{value:"yep",label:"YEP"},{value:"brs",label:"BRS"}]}},languages:[{lang:"ja",label:"\u65e5\u672c\u8a9e",default:!0},{lang:"en",label:"English"}],messages:{en:{start_btn:"START!",introduction:["Scan QR code of people around you","Collect different trait tags","Aim for Bingo and win a prize!"],congratulation:["Congrats!","Show this screen to event staff","and get an awesome prize!"],total_bingo_count:function(e){return r.a.createElement("span",null,"You have ",e[0]," bingo!")},found:function(e){return r.a.createElement("span",null,"Found ",r.a.createElement("b",null,e.join(", ")),"!")}},ja:{start_btn:"\u30b9\u30bf\u30fc\u30c8\uff01",introduction:["\u8fd1\u304f\u306e\u4eba\u306eQR\u30b3\u30fc\u30c9\u3092\u30b9\u30ad\u30e3\u30f3","\u3044\u308d\u3093\u306a\u30bf\u30a4\u30d7\u306e\u30bf\u30b0\u3092\u96c6\u3081\u3088\u3046\uff01","\u30d3\u30f3\u30b4\u3092\u72d9\u3063\u3066\u5546\u54c1\u3092\u3082\u3089\u304a\u3046\uff01"],congratulation:["\u304a\u3081\u3067\u3068\u3046\u3054\u3056\u3044\u307e\u3059\uff01","\u304a\u8fd1\u304f\u306e\u30b9\u30bf\u30c3\u30d5\u306b\u3053\u3061\u3089\u306e","\u753b\u9762\u3092\u898b\u305b\u3066\u3001\u7d20\u6575\u306a\u30ae\u30d5\u30c8\u3092","\u304a\u53d7\u3051\u53d6\u308a\u304f\u3060\u3055\u3044\u3002"],total_bingo_count:function(e){return r.a.createElement("span",null,e[0],"\u30d3\u30f3\u30b4\u9054\u6210\uff01")},found:function(e){return r.a.createElement("span",null,r.a.createElement("b",null,e.join(", "))," \u3092\u307f\u3064\u3051\u307e\u3057\u305f\uff01")}}}},v=n(8),f=n(2),h=n(9),d=n(4),p=n(3),g=n(5),b=n(1),E=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).value=void 0,n.label=void 0,n.description=void 0,n.imageURL=void 0,n.position=void 0,n.punched=void 0,n.bingo=void 0,n.value=e.value,n.label=e.label,n.description=e.description,n.imageURL=e.imageURL,n.position=e.position||{},n.punched=e.punched||!1,n.bingo=e.bingo||!1,n}return Object(g.a)(t,e),t}(b.Model);E.__ns="BingoSlot";var w=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).succeeded=void 0,n.slots=void 0,n.slots=e.slots,n.succeeded=e.succeeded||new Date,n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"draw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=this.slots[0].position,a=this.slots[this.slots.length-1].position,r=t/this.slots.length,i=r/2;e.strokeStyle="blue",e.lineWidth=t/100,e.beginPath(),e.moveTo(i+r*n.x,i+r*n.y),e.lineTo(i+r*a.x,i+r*a.y),e.stroke()}}]),t}(b.Model);w.schema={succeeded:b.Types.date,slots:b.Types.arrayOf(b.Types.reference(E))};var y=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e,"singleton"))).width=void 0,n.height=void 0,n.slots=void 0,n.length=void 0,n.lines=void 0,n.initialized=void 0,n.width=e.width,n.height=e.height,n.slots=e.slots,n.lines=e.lines||[],n.length=n.width*n.height,n.initialized=e.date||new Date,n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"hit",value:function(e){var t=e.value instanceof Array?e.value:[e.value];return this.slots.flat().filter((function(e){return t.some((function(t){return e.value==t}))}))}},{key:"punch",value:function(e){var t=this;return this.slots.flat().filter((function(t){return e.some((function(e){return e.value==t.value}))})).map((function(e){var n=e.position,a=n.x,r=n.y;t.slots[r][a].punched=!0})),this.lines=this.getBingoLines(),this.save()}},{key:"isBingo",value:function(){return 0!==this.getBingoLines().length}},{key:"isCompleted",value:function(){var e=this.width,t=this.height;return this.getBingoLines().length>=e+t+2}},{key:"getBingoNumber",value:function(){return this.getBingoLines().length}},{key:"getBingoLines",value:function(){var e=[];return e.push.apply(e,Object(v.a)(this.getHorizontalBingo())),e.push.apply(e,Object(v.a)(this.getVerticalBingo())),e.push.apply(e,Object(v.a)(this.getDiagonalBingo())),this.markSlotsIfBingo(e),e}},{key:"markSlotsIfBingo",value:function(e){e.map((function(e){return e.slots.map((function(e){return e.bingo=!0}))}))}},{key:"getHorizontalBingo",value:function(){for(var e=[],t=0;t<this.height;t++)this.slots[t].every((function(e){return e.punched}))&&e.push(new w({slots:this.slots[t]}));return e}},{key:"getVerticalBingo",value:function(){for(var e=this,t=[],n=function(n){e.slots.every((function(e){return e[n].punched}))&&t.push(new w({slots:e.slots.map((function(e){return e[n]})).flat()}))},a=0;a<this.width;a++)n(a);return t}},{key:"getDiagonalBingo",value:function(){var e=[];if(this.width!==this.height)return[];var t=Math.min(this.width,this.height),n=this.slots.map((function(e,t){return e[t]}));n.every((function(e){return e.punched}))&&e.push(new w({slots:n}));var a=this.slots.map((function(e,n){return e[t-n-1]}));return a.every((function(e){return e.punched}))&&e.push(new w({slots:a})),e}}],[{key:"arrayShuffle",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}},{key:"getShuffledListWithLength",value:function(e,t){for(var n=[];n.length<t;)n.push.apply(n,Object(v.a)(this.arrayShuffle(e)));return n.slice(0,t)}},{key:"createSlot",value:function(e,t,n){var a=e.value,r=e.label,i=e.description,l=e.imageURL,o=[t%n,Math.floor(t/n)];return new E({value:a,label:r,description:i,imageURL:l,position:{x:o[0],y:o[1]}})}},{key:"init",value:function(e){var n=this,a=e.sheet,r=a.width,i=a.height,l=Array(i).fill(!0).map((function(){return[]})),o=r*i;return this.getShuffledListWithLength(e.slot.variations,o).map((function(e,t){var a=n.createSlot(e,t,r);return l[a.position.y].push(a)})),new t({width:e.sheet.width,height:e.sheet.height,slots:l})}},{key:"exists",value:function(){return this.find("singleton")}}]),t}(b.Model);y.__ns="BingoSheet",y.schema={width:b.Types.number,height:b.Types.number,slots:b.Types.arrayOf(b.Types.arrayOf(b.Types.reference(E))),lines:b.Types.arrayOf(b.Types.reference(w)),initialized:b.Types.date};var N=n(10),A=n.n(N),O=(n(38),function(e){var t=e.app;e.sheet,e.reset;return r.a.createElement("div",{className:"game-menu"},r.a.createElement("h1",null,r.a.createElement("img",{src:A.a,alt:t.name}),r.a.createElement("span",null,t.name)))}),j=n(12),C=n.n(j),k=(n(39),function(e){var t=e.sheet,n=t.lines,i=Object(a.createRef)();return setTimeout((function(){return i.current?function(e,a){var r=e.getContext("2d");r&&(n.map((function(e){return e.draw(r,a)})),console.log("Completed:",t.isCompleted()))}(i.current,1e3):null})),r.a.createElement("canvas",{width:1e3,height:1e3,ref:i})}),T=function(e){var t=e.sheet;return r.a.createElement("div",{className:"Bingo_Line_Drawer_Container"},r.a.createElement(k,{sheet:t}))},M=function(e){var t=e.slot;return r.a.createElement("div",{className:C()("sheet-cell",{punched:t.punched,bingo:t.bingo})},r.a.createElement("div",{className:"hole"},t.label.split("\n").map((function(e,t){return r.a.createElement("div",{key:t},e)}))))},S=function(e){var t=e.row;return r.a.createElement("div",{className:"sheet-row"},t.map((function(e,t){return r.a.createElement(M,{key:t,slot:e})})))},L=function(e){var t=e.sheet;return r.a.createElement("div",{className:"sheet-container"},r.a.createElement("div",{className:C()("sheet-wrapper",{bingo:t.isBingo()})},t.slots.map((function(e,t){return r.a.createElement(S,{key:t,row:e})}))),r.a.createElement(T,{sheet:t}))},B=(n(40),function(e){var t=e.sheet;return r.a.createElement("div",{className:"Bingo_Sheet_Label"},r.a.createElement("h2",null,"YOUR BINGO SHEET"),t.lines.length?r.a.createElement("span",null,t.lines.length," bingo"):null)}),F=function(e){var t=e.onClick;return r.a.createElement("div",{className:"Scan_Start_Button_Container"},r.a.createElement("button",{onClick:t},"SCAN QR CODE"))},D=function(e){var t=e.bingo,n=e.reset,a=e.startScanning;return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game_Title"},r.a.createElement(O,{app:m.application,sheet:t.sheet,reset:n})),r.a.createElement("div",{className:"Game_Contents"},r.a.createElement(B,{sheet:t.sheet}),r.a.createElement(L,{sheet:t.sheet}),r.a.createElement(F,{onClick:a})))},I=(n(41),m.messages);var H={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new URL(window.location.href).searchParams.get("lang")||function(){var e=m.languages||[];if(!e)return"ja";var t=e.find((function(e){return e.default}));return t?t.lang:"ja"}(),a=I[n][e];return"undefined"===typeof a?null:"function"===typeof a?a(t):a}},x=function(e){var t=e.start,n=H.get("introduction")||[],a=H.get("start_btn"),i=m.application;return r.a.createElement("div",{className:"launching-page"},r.a.createElement("div",{className:"legend"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,r.a.createElement("img",{src:A.a,alt:i.name}),i.name)),r.a.createElement("div",{className:"lang-list"},m.languages.map((function(e){return r.a.createElement("a",{key:e.lang,href:"?lang=".concat(e.lang)},e.label)}))),r.a.createElement("div",{className:"introduction"},r.a.createElement("ol",null,n.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("br",null),r.a.createElement("div",null,e))})))),r.a.createElement("div",{className:"start-button-wrapper"},r.a.createElement("button",{onClick:t},a))))},P=(n(42),function(e){var t=e.close,n=e.content,i=e.show,l=Object(a.useState)(0),o=Object(u.a)(l,2),s=o[0],c=o[1];return Object(a.useEffect)((function(){c(i?1:0)}),[i]),r.a.createElement("div",{className:"Modal_Container",style:{opacity:s}},r.a.createElement("div",{className:"Modal_Content_Wrapper"},r.a.createElement("div",{className:"Modal_Content_Background",onClick:t},r.a.createElement("div",{className:"Modal_Content"},n))),r.a.createElement("div",{className:"Modal_Background"}))}),G=Object(a.createContext)({modal:null,setModalState:function(e){},closeModal:function(){}}),W=(n(15),n(17)),J=n.n(W);var K=function(e){var t=e.payload,n=e.close,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return m.bingo.slot.variations.filter((function(t){return e.some((function(e){return e===t.value}))})).map((function(e){return e.label.split("\n").join("")}))}(t.value),i=H.get("found",a);return r.a.createElement("div",{className:"Content_Wrapper"},r.a.createElement("div",{className:"Content_Icon"},r.a.createElement("img",{src:J.a,alt:"Found"})),r.a.createElement("div",{className:"Content_Message"},r.a.createElement("div",null,i)),r.a.createElement("div",{className:"Content_Actions"},r.a.createElement("button",{onClick:n},"VIEW YOUR CARD")))},Y=n(18),Z=n.n(Y),Q=n(19),z=n.n(Q),X=function(e){var t=e.close,n=e.count,a=H.get("congratulations")||[],i=H.get("total_bingo_count",[n]);return r.a.createElement("div",{className:"Content_Wrapper",onClick:t},r.a.createElement("div",{className:"Content_Action",style:{textAlign:"right"}},r.a.createElement("img",{src:z.a,alt:"close",style:{width:"24px"}})),r.a.createElement("div",{className:"Content_Icon"},r.a.createElement("img",{src:Z.a,alt:"Congraturations!"})),r.a.createElement("div",{className:"Content_Message"},r.a.createElement("h1",null,"BINGO!!!")),r.a.createElement("div",{className:"Content_Message Lines"},a.map((function(e,t){return r.a.createElement("p",{key:t},e)})),i))},U=(n(43),function(e){var t=e.styles,n=void 0===t?{}:t,a=e.children;return r.a.createElement("div",{className:"AppScreen_Container",style:n},r.a.createElement("div",{className:"AppScreen_Main"},a))}),R=(n(44),n(20)),V=n(13),q=n.n(V);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(R.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:(e.videoWidth-t.width)/2,y:(e.videoHeight-t.height)/2},t)}var ee=n(21),te=n.n(ee),ne=function(e,t,n){var a=document.createElement("canvas"),r=[e.width,e.height];a.width=r[0],a.height=r[1],n(function(e){var t=e.video,n=e.canvas,a=e.size;if(!n)return null;if(!t)return null;if(!t.srcObject)return null;var r=n.getContext("2d");if(!r)return null;var i=$(t,a);r.drawImage(t,i.x,i.y,i.width,i.height,0,0,n.width,n.height);var l=r.getImageData(0,0,t.width,t.height);return q()(l.data,t.width,t.height)}({video:e,canvas:a,size:t}))},ae=function(e){var t=e.stream,n=e.stop,i=e.video,l=Object(a.createRef)();return Object(a.useEffect)((function(){var e,a=i.current;if(!a)return console.error("video tag is not ready");a.srcObject=t;var r=l.current,o=r.offsetWidth,s=r.offsetHeight;e=setInterval(ne.bind(null,a,{width:o,height:s},(function(t){var a;t&&(clearInterval(e),a=JSON.parse(t.data),i.current&&i.current.pause(),n(a))})),1e3)}),[]),r.a.createElement("div",{className:"Video_Stream_Container"},r.a.createElement("div",{className:"Video_Stream_Navigation Top"},r.a.createElement("div",{className:"nav-left",onClick:function(){return n()}},r.a.createElement("img",{src:te.a,alt:"back",className:"nav-item-img"}),r.a.createElement("span",null,"Back")),r.a.createElement("div",{className:"nav-title"},"Scan QR code"),r.a.createElement("div",{className:"nav-right"})),r.a.createElement("div",{className:"Video_Stream_Movie"},r.a.createElement("div",{className:"Video_Stream_Detect_Area"},r.a.createElement("div",{className:"Video_Stream_Detect_Area_Line",ref:l})),r.a.createElement("video",{ref:i,muted:!0,autoPlay:!0,playsInline:!0,width:"100%",height:"100%"})),r.a.createElement("div",{className:"Video_Stream_Navigation Bottom"},r.a.createElement("div",{className:"nav-title"},"Place code inside the box")))},re=function(e){var t=e.stop,n=e.stream,i=Object(a.createRef)();return r.a.createElement("div",{className:"ScanVideo_Container"},r.a.createElement(ae,{stream:n,stop:t,video:i}))},ie=(n(45),/(iPhone|iPad|iPod|Android)/i.test(navigator.userAgent)?{exact:"environment"}:"user"),le=function(){var e=y.exists(),t=Object(a.useState)({sheet:e}),n=Object(u.a)(t,2),i=n[0],l=n[1],o=Object(a.useState)({content:null,show:!1}),v=Object(u.a)(o,2),f=v[0],h=v[1],d=function(){setTimeout((function(){return h({show:!1})}),400),h({show:!1,content:f.content}),"function"===typeof f.resolve&&f.resolve()},p=function(e){return new Promise((function(t){h({show:!1,content:e,resolve:t}),setTimeout((function(){return h({show:!0,content:e,resolve:t})}))}))},g={modal:null,setModalState:function(e){return h(e)},closeModal:d},b=Object(a.useState)(),E=Object(u.a)(b,2),w=E[0],N=E[1],A=function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r.a.createElement(K,{payload:t.payload,close:d}));case 2:if((n=i.sheet.hit(t.payload)).length){e.next=5;break}return e.abrupt("return");case 5:a=i.sheet.lines.length,l({sheet:i.sheet.punch(n)}),a<i.sheet.lines.length&&setTimeout((function(){p(r.a.createElement(X,{close:d,count:i.sheet.lines.length}))}),500);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 400,e.next=3,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:ie,width:400,height:400}});case 3:t=e.sent,N(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=r.a.createElement(U,null,i.sheet?r.a.createElement(D,{bingo:i,reset:function(){window.confirm("Are you sure to delete current progress and start new game?")&&l({sheet:y.init(m.bingo).save()})},startScanning:O}):r.a.createElement(x,{start:function(){return l({sheet:y.init(m.bingo).save()})}})),C=w?r.a.createElement(U,{styles:{zIndex:2e3}},r.a.createElement(re,{stream:w,stop:function(e){setTimeout((function(){return N(void 0)}),0),w&&w.getTracks().map((function(e){return e.stop()})),e&&A(e)}})):null,k=f.content?r.a.createElement(P,Object.assign({close:d},f)):null;return r.a.createElement(G.Provider,{value:g},r.a.createElement("div",{className:"App"},j,C,k))};l.a.render(r.a.createElement(le,null),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.2feae08f.chunk.js.map