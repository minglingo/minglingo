{"version":3,"sources":["logo.svg","components/Modal/Contents/OnFound/check.svg","components/Modal/Contents/OnBingoSucceeded/gift.svg","components/Modal/Contents/OnBingoSucceeded/close.png","components/VideoScan/caret-left.svg","config.tsx","models/slot.ts","models/line.ts","models/sheet.ts","components/GameMenu/index.tsx","components/BingoSheetView/index.tsx","components/Game/index.tsx","services/messages.ts","components/LaunchingPage/index.tsx","components/Modal/index.tsx","context/Application.ts","components/Modal/Contents/OnFound/index.tsx","components/Modal/Contents/OnBingoSucceeded/index.tsx","components/AppScreen/index.tsx","services/Detector.ts","components/VideoScan/index.tsx","App.tsx","index.tsx"],"names":["module","exports","config","application","name","bingo","sheet","width","height","slot","variations","value","label","description","languages","lang","default","messages","en","start_btn","introduction","congratulation","total_bingo_count","args","found","join","ja","BingoSlot","props","imageURL","position","punched","Model","__ns","BingoLine","succeeded","slots","Date","ctx","scale","start","this","end","length","unit","offset","strokeStyle","lineWidth","beginPath","moveTo","x","y","lineTo","stroke","schema","Types","date","arrayOf","reference","BingoSheet","lines","initialized","payload","values","Array","flat","filter","some","hits","hit","map","getBingoLines","save","push","getHorizontalBingo","getVerticalBingo","getDiagonalBingo","markSlotsIfBingo","line","row","every","col","len","Math","min","backslash","i","slash","arr","j","floor","random","dest","arrayShuffle","slice","variation","index","fill","getShuffledListWithLength","v","createSlot","find","number","GameMenu","app","reset","className","src","logo","alt","LineDrawerCanvas","ref","createRef","setTimeout","current","canvas","getContext","draw","console","log","isCompleted","LineDrawer","BingoSheetCell","cn","split","key","BingoSheetRow","BingoSheetView","isBingo","BingoSheetLabel","BingoScanTrigger","onClick","Game","startScanning","get","URL","window","location","href","searchParams","availables","l","getDefaultLang","LaunchingPage","startMessage","av","Modal","close","content","show","useState","opacity","setOpacity","useEffect","style","ApplicationContext","createContext","modal","setModalState","state","closeModal","ModalContentOnFound","texts","val","getFoundValueTexts","check","ModalContentOnBingoSucceeded","count","total","textAlign","closeicon","gift","AppScreen","styles","children","getRectOfQRCode","video","size","videoWidth","videoHeight","detect","callback","document","createElement","srcObject","rect","drawImage","img","getImageData","jsqr","data","detectQRCodeFromVideo","VideoStream","stream","stop","area","id","error","offsetWidth","offsetHeight","setInterval","bind","qrcode","clearInterval","JSON","parse","pause","left","muted","autoPlay","playsInline","VideoScanView","facingMode","test","navigator","userAgent","exact","App","exists","updateBingo","modalState","resolve","showModal","Promise","ms","setStream","punch","a","bingoCount","mediaDevices","getUserMedia","audio","ApplicationStoryContainer","confirm","init","ScanningStoryContainer","zIndex","undefined","getTracks","track","ModalStoryContainer","Application","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a3b7bc7e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8c74ea89.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.33410986.svg\";","module.exports = __webpack_public_path__ + \"static/media/gift.f4453374.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/caret-left.4fa5bd11.svg\";","import React from 'react';\nimport { Config } from \"./config.d\";\n\nconst config: Config = {\n    application: {\n        name: \"QRBINGO\"\n    },\n    bingo: {\n        sheet: {\n            width: 5,\n            height: 5\n        },\n        slot: {\n            variations: [\n                {\n                    value: \"istj\",\n                    label: \"IS\\nTJ\",\n                    description: \"The Inspector\"\n                },\n                {\n                    value: \"infj\",\n                    label: \"IN\\nFJ\",\n                    description: \"The Counselor\"\n                },\n                {\n                    value: \"intj\",\n                    label: \"IN\\nTJ\",\n                    description: \"The Mastermind\"\n                },\n                {\n                    value: \"enfj\",\n                    label: \"EN\\nFJ\",\n                    description: \"The Giver\"\n                },\n                {\n                    value: \"istp\",\n                    label: \"IS\\nTP\",\n                    description: \"The Craftsman\"\n                },\n                {\n                    value: \"esfj\",\n                    label: \"ES\\nFJ\",\n                    description: \"The Provider\"\n                },\n                {\n                    value: \"infp\",\n                    label: \"IN\\nFP\",\n                    description: \"The Idealist\"\n                },\n                {\n                    value: \"esfp\",\n                    label: \"ES\\nFP\",\n                    description: \"The Performer\"\n                },\n                {\n                    value: \"enfp\",\n                    label: \"EN\\nFP\",\n                    description: \"The Champion\"\n                },\n                {\n                    value: \"estp\",\n                    label: \"ES\\nTP\",\n                    description: \"The Doer\"\n                },\n                {\n                    value: \"estj\",\n                    label: \"ES\\nTJ\",\n                    description: \"The Supervisor\"\n                },\n                {\n                    value: \"entj\",\n                    label: \"EN\\nTJ\",\n                    description: \"The Commander\"\n                },\n                {\n                    value: \"intp\",\n                    label: \"IN\\nTP\",\n                    description: \"The Thinker\"\n                },\n                {\n                    value: \"isfj\",\n                    label: \"IS\\nFJ\",\n                    description: \"The Nurturer\"\n                },\n                {\n                    value: \"entp\",\n                    label: \"EN\\nTP\",\n                    description: \"The Visionary\"\n                },\n                {\n                    value: \"isfp\",\n                    label: \"IS\\nFP\",\n                    description: \"The Composer\"\n                },\n                // Non-MBTI tags\n                {\n                    value: \"sp\",\n                    label: \"SP\"\n                },\n                {\n                    value: \"p\",\n                    label: \"P\"\n                },\n                {\n                    value: \"ap\",\n                    label: \"AP\"\n                },\n                {\n                    value: \"em\",\n                    label: \"EM\"\n                },\n                {\n                    value: \"asc\",\n                    label: \"ASC\"\n                },\n                {\n                    value: \"ba\",\n                    label: \"BA\"\n                },\n                {\n                    value: \"mirts\",\n                    label: \"MI/RTS\"\n                },\n                {\n                    value: \"dadqb\",\n                    label: \"DAD/QB\"\n                },\n                {\n                    value: \"se\",\n                    label: \"S/E\"\n                },\n                {\n                    value: \"rni\",\n                    label: \"R&I\"\n                },\n                {\n                    value: \"itfac\",\n                    label: \"IT/FAC\"\n                },\n                {\n                    value: \"alf\",\n                    label: \"A/L/F\"\n                },\n                {\n                    value: \"ea\",\n                    label: \"EA\"\n                },\n                {\n                    value: \"comvg\",\n                    label: \"COM/VG\"\n                },\n                {\n                    value: \"pdrec\",\n                    label: \"PD/REC\"\n                },\n                {\n                    value: \"soa\",\n                    label: \"SO\\nAdults\"\n                },\n                {\n                    value: \"soc\",\n                    label: \"SO\\nChildren\"\n                },\n                {\n                    value: \"off\",\n                    label: \"OFF\"\n                },\n                {\n                    value: \"6ma\",\n                    label: \"6MA\"\n                },\n                {\n                    value: \"nep\",\n                    label: \"NEP\"\n                },\n                {\n                    value: \"kan\",\n                    label: \"KAN\"\n                },\n                {\n                    value: \"gt\",\n                    label: \"GT\",\n                },\n                {\n                    value: \"yep\",\n                    label: \"YEP\"\n                },\n                {\n                    value: \"brs\",\n                    label: \"BRS\"\n                }\n            ]\n        }\n    },\n    languages: [\n        {\n            lang: \"ja\",\n            label: \"日本語\",\n            default: true\n        },\n        {\n            lang: \"en\",\n            label: \"English\"\n        }\n    ],\n    messages: {\n        en: {\n            start_btn: \"START!\",\n            introduction: [\n                \"Scan QR code of people around you\",\n                \"Collect different trait tags\",\n                \"Aim for Bingo and win a prize!\"\n            ],\n            congratulation: [\n                \"Congrats!\",\n                \"Show this screen to event staff\",\n                \"and get an awesome prize!\"\n            ],\n            total_bingo_count: (args) => <span>You have {args[0]} bingo!</span>,\n            found: (args) => <span>Found <b>{args.join(', ')}</b>!</span>,\n        },\n        ja: {\n            start_btn: \"スタート！\",\n            introduction: [\n                \"近くの人のQRコードをスキャン\",\n                \"いろんなタイプのタグを集めよう！\",\n                \"ビンゴを狙って商品をもらおう！\"\n            ],\n            congratulation: [\n                \"おめでとうございます！\",\n                \"お近くのスタッフにこちらの\",\n                \"画面を見せて、素敵なギフトを\",\n                \"お受け取りください。\"\n            ],\n            total_bingo_count: (args) => <span>{args[0]}ビンゴ達成！</span>,\n            found: (args) => <span><b>{args.join(', ')}</b> をみつけました！</span>,\n        }\n    }\n}\n\nexport default config;\n","import {Model} from 'chomex';\n\nexport interface IBingoSlotConfig {\n    value: string;\n    label: string;\n    description?: string;\n    imageURL?: string;\n}\n\nexport default class BingoSlot extends Model {\n\n    protected static __ns = 'BingoSlot';\n\n    public value: string;\n    public label: string;\n    public description: string;\n    public imageURL: string;\n    public position: {\n        x: number,\n        y: number\n    };\n    public punched: boolean;\n    public bingo: boolean;\n\n    constructor(props: any) {\n        super(props);\n        this.value = props.value;\n        this.label = props.label;\n        this.description = props.description;\n        this.imageURL = props.imageURL;\n        this.position = props.position || {};\n        this.punched = props.punched || false;\n        this.bingo = props.bingo || false;\n    }\n}","import {Model, Types} from 'chomex';\nimport BingoSlot from './slot';\n\n/**\n * BingoLine represents a successfull bingo line.\n */\nexport default class BingoLine extends Model {\n\n  protected static schema = {\n    succeeded: Types.date,\n    slots: Types.arrayOf(Types.reference(BingoSlot)),\n  }\n\n  public succeeded: Date;\n  public slots: BingoSlot[];\n\n  constructor(props: { slots: BingoSlot[], succeeded?: Date }) {\n    super(props);\n    this.slots = props.slots;\n    this.succeeded = props.succeeded || new Date();\n  }\n\n  public draw(ctx: CanvasRenderingContext2D, scale: number = 100) {\n    const start = this.slots[0].position;\n    const end = this.slots[this.slots.length - 1].position;\n    const unit = scale / this.slots.length;\n    const offset = unit / 2;\n    ctx.strokeStyle = 'blue';\n    ctx.lineWidth = scale / 100;\n    ctx.beginPath();\n    ctx.moveTo(offset + unit * start.x, offset + unit * start.y);\n    ctx.lineTo(offset + unit * end.x, offset + unit * end.y);\n    ctx.stroke();\n  }\n\n}","import {Model, Types} from 'chomex';\n\nimport BingoSlot, { IBingoSlotConfig } from './slot';\nimport BingoLine from './line';\nimport { Payload } from './qrcode';\n\nexport interface IBingoConfig {\n    sheet: {\n        width: number;\n        height: number;\n    };\n    slot: {\n        variations: IBingoSlotConfig[];\n    }\n}\n\nexport default class BingoSheet extends Model {\n\n    protected static __ns = 'BingoSheet';\n    protected static schema = {\n        width: Types.number,\n        height: Types.number,\n        slots: Types.arrayOf(\n            Types.arrayOf(\n                Types.reference(BingoSlot)\n            )\n        ),\n        lines: Types.arrayOf(Types.reference(BingoLine)),\n        initialized: Types.date,\n    }\n\n    public width: number;\n    public height: number;\n    public slots: BingoSlot[][];\n    public length: number;\n    public lines: BingoLine[];\n    public initialized: Date;\n\n    constructor(props: any) {\n        super(props, 'singleton');\n        this.width = props.width;\n        this.height = props.height;\n        this.slots = props.slots;\n        this.lines = props.lines || [];\n        this.length = this.width * this.height;\n        this.initialized = props.date || new Date();\n    }\n\n    private static arrayShuffle<T>(arr: T[]): T[] {\n        for (let i = arr.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [arr[i], arr[j]] = [arr[j], arr[i]];\n        }\n        return arr;\n    }\n\n    private static getShuffledListWithLength(arr: IBingoSlotConfig[], length: number): IBingoSlotConfig[] {\n        const dest: IBingoSlotConfig[] = [];\n        while (dest.length < length) {\n            dest.push(...this.arrayShuffle<IBingoSlotConfig>(arr))\n        }\n        return dest.slice(0, length);\n    }\n\n    private static createSlot(variation: IBingoSlotConfig, index: number, width: number): BingoSlot {\n        const { value, label, description, imageURL } = variation;\n        const [x, y] = [index % width, Math.floor(index / width)];\n        const slot = new BingoSlot({ value, label, description, imageURL, position: { x, y } });\n        return slot;\n    }\n\n    static init(config: IBingoConfig): BingoSheet {\n        const {width, height} = config.sheet;\n        const slots: BingoSlot[][] = Array(height).fill(true).map(() => []);\n        const length = width * height;\n        this.getShuffledListWithLength(config.slot.variations, length).map((v, i) => {\n            const slot = this.createSlot(v, i, width);\n            return slots[slot.position.y].push(slot);\n        });\n        const sheet = new BingoSheet({\n            width: config.sheet.width,\n            height: config.sheet.height,\n            slots\n        });\n        return sheet;\n    }\n\n    static exists(): BingoSheet | undefined {\n        return this.find<BingoSheet>('singleton');\n    }\n\n    /**\n     * hit returns the slot which matches the given payload,\n     * or undefined if not found.\n     * @param payload\n     */\n    public hit(payload: Payload): BingoSlot[] {\n        const values = payload.value instanceof Array ? payload.value : [payload.value];\n        // eslint-disable-next-line\n        return this.slots.flat().filter((slot) => values.some(value => slot.value == value));\n    }\n\n    /**\n     * punch marks the given hit slot as punched.\n     * @param hits\n     */\n    public punch(hits: BingoSlot[]): BingoSheet {\n        // eslint-disable-next-line\n        this.slots.flat().filter((slot) => hits.some(hit => hit.value == slot.value)).map((slot) => {\n            // slot.punched = true;\n            const {x, y} = slot.position;\n            this.slots[y][x].punched = true;\n        });\n        this.lines = this.getBingoLines();\n        return this.save();\n    }\n\n    public isBingo(): boolean {\n        return this.getBingoLines().length !== 0;\n    }\n\n    public isCompleted(): boolean {\n        const { width, height } = this;\n        return this.getBingoLines().length >= width + height + 2;\n    }\n\n    public getBingoNumber(): number {\n        return this.getBingoLines().length;\n    }\n\n    public getBingoLines(): BingoLine[] {\n        const lines: BingoLine[] = [];\n        lines.push(...this.getHorizontalBingo());\n        lines.push(...this.getVerticalBingo())\n        lines.push(...this.getDiagonalBingo());\n        this.markSlotsIfBingo(lines);\n        return lines;\n    }\n\n    private markSlotsIfBingo(lines: BingoLine[]) {\n        lines.map(line => {\n            return line.slots.map(slot => {\n                // this.slots[slot.position.y][slot.position.x].bingo = true;\n                return slot.bingo = true;\n            })\n        })\n    }\n\n    /**\n     * Return all the slots which constitute the horizontal bingo.\n     */\n    public getHorizontalBingo(): BingoLine[] {\n        const lines: BingoLine[] = [];\n        for (let row = 0; row < this.height; row++) {\n            if (this.slots[row].every((slot) => slot.punched)) {\n                lines.push(new BingoLine({ slots: this.slots[row] }))\n            }\n        }\n        return lines;\n    }\n\n    /**\n     * Return all the slots which constitute the vertical bingo.\n     */\n    public getVerticalBingo(): BingoLine[] {\n        const lines: BingoLine[] = [];\n        for (let col = 0; col < this.width; col++) {\n            if (this.slots.every((row) => row[col].punched)) {\n                lines.push(new BingoLine({slots: this.slots.map((row) => row[col]).flat()}));\n            }\n        }\n        return lines;\n    }\n\n    /**\n     * Return all the slots which constitute the diagonal bingo.\n     */\n    public getDiagonalBingo(): BingoLine[] {\n        const lines: BingoLine[] = [];\n        if (this.width === this.height) {\n            const len = Math.min(this.width, this.height);\n            const backslash = this.slots.map((row, i) => row[i]);\n            if (backslash.every(slot => slot.punched)) {\n                lines.push(new BingoLine({ slots: backslash }));\n            }\n            const slash = this.slots.map((row, i) => row[len - i - 1]);\n            if (slash.every(slot => slot.punched)) {\n                lines.push(new BingoLine({ slots: slash }));\n            }\n        } else {\n            // TODO: Consider NON-SQUARE bingo sheet.\n            return [];\n        }\n        return lines;\n    }\n}","import React from 'react';\nimport BingoSheet from '../../models/sheet';\n\n// import refresh from './refresh.svg';\nimport logo from '../../logo.svg';\nimport './index.scss';\n\nconst GameMenu: React.FC<{ app: { name: string }, sheet: BingoSheet, reset: () => void, }> = ({ app, sheet, reset, }) => {\n    return (\n        <div className=\"game-menu\">\n            <h1>\n                <img src={logo} alt={app.name} />\n                <span>{app.name}</span>\n            </h1>\n            {/* <span className=\"start-time\">\n                {sheet.initialized.toLocaleString()}\n            </span> */}\n            {/* <img src={refresh} alt=\"Restart Game\" onClick={reset} /> */}\n        </div>\n    );\n};\n\nexport default GameMenu;","import React, { createRef } from 'react';\nimport cn from 'classnames';\n\nimport BingoSheet from \"../../models/sheet\";\nimport BingoSlot from '../../models/slot';\n\nimport './index.scss';\n\nconst LineDrawerCanvas: React.FC<{ sheet: BingoSheet }> = ({ sheet }) => {\n\n    const lines = sheet.lines;\n    const draw = (canvas: HTMLCanvasElement, scale: number) => {\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return;\n        lines.map(line => line.draw(ctx, scale));\n        console.log('Completed:', sheet.isCompleted());\n    };\n\n    const ref = createRef<HTMLCanvasElement>();\n\n    // Make sure canvas exists.\n    // TODO: Find another way.\n    const scale = 1000;\n    setTimeout(() => ref.current ? draw(ref.current, scale) : null);\n    return (\n        <canvas width={scale} height={scale} ref={ref} />\n    );\n};\n\nconst LineDrawer: React.FC<{ sheet: BingoSheet }> = ({ sheet }) => {\n    return (\n        <div className=\"Bingo_Line_Drawer_Container\">\n            <LineDrawerCanvas sheet={sheet} />\n        </div>\n    );\n};\n\nconst BingoSheetCell: React.FC<{slot: BingoSlot}> = ({slot}) => {\n    return (\n        <div className={cn(\"sheet-cell\", { punched: slot.punched, bingo: slot.bingo })}>\n            <div className=\"hole\">\n                {slot.label.split(\"\\n\").map((line, i) => <div key={i}>{line}</div>)}\n            </div>\n        </div>\n    );\n};\n\nconst BingoSheetRow: React.FC<{row: BingoSlot[]}> = ({row}) => {\n    return (\n        <div className=\"sheet-row\">\n            {row.map((slot, i) => <BingoSheetCell key={i} slot={slot} />)}\n        </div>\n    );\n};\n\nconst BingoSheetView: React.FC<{sheet: BingoSheet}> = ({sheet}) => {\n    return (\n        <div className=\"sheet-container\">\n            <div className={cn(\"sheet-wrapper\", { bingo: sheet.isBingo() })}>\n                {sheet.slots.map((row, i) => <BingoSheetRow key={i} row={row} />)}\n            </div>\n            <LineDrawer sheet={sheet} />\n        </div>\n    );\n};\n\nexport default BingoSheetView;\n","import React from 'react';\nimport BingoSheet from '../../models/sheet';\n\nimport config from '../../config';\nimport GameMenu from '../GameMenu';\nimport BingoSheetView from '../BingoSheetView';\n\nimport './index.scss';\n\nconst BingoSheetLabel: React.FC<{\n  sheet: BingoSheet,\n}> = ({ sheet }) => {\n  return (\n    <div className=\"Bingo_Sheet_Label\">\n      <h2>YOUR BINGO SHEET</h2>\n      {sheet.lines.length ? <span>{sheet.lines.length} bingo</span> : null}\n    </div>\n  );\n};\n\nconst BingoScanTrigger: React.FC<{\n  onClick(): void,\n}> = ({ onClick }) => {\n  return (\n    <div className=\"Scan_Start_Button_Container\">\n      <button onClick={onClick}>SCAN QR CODE</button>\n    </div>\n  )\n}\n\n\nconst Game: React.FC<{\n  bingo: { sheet: BingoSheet },\n  reset(): void,\n  startScanning(): void,\n}> = ({ bingo, reset, startScanning }) => {\n  return (\n    <div className=\"Game\">\n      <div className=\"Game_Title\">\n        <GameMenu app={config.application} sheet={bingo.sheet} reset={reset} />\n      </div>\n      <div className=\"Game_Contents\">\n        <BingoSheetLabel sheet={bingo.sheet} />\n        <BingoSheetView sheet={bingo.sheet} />\n        <BingoScanTrigger onClick={startScanning} />\n     </div>\n    </div>\n  );\n}\n\nexport default Game;\n","import config from '../config';\nimport { ReactNode } from 'react';\n\nconst messages = config.messages;\n\nfunction getDefaultLang(): string {\n    const availables = config.languages || [];\n    if (!availables) return 'ja';\n    const found = availables.find((l) => l.default);\n    if (!found) return 'ja';\n    return found.lang;\n}\n\nfunction get(key: string, args: any[] = []): string | string[] | ReactNode | null {\n    const url = new URL(window.location.href);\n    const lang = url.searchParams.get('lang') || getDefaultLang();\n    const dict = (messages as any)[lang];\n    const v = dict[key];\n    if (typeof v === 'undefined') return null;\n    if (typeof v === 'function') return v(args) as ReactNode;\n    return v;\n}\n\nexport default {\n    get,\n};\n","import React from 'react';\nimport './index.scss';\n\nimport logo from \"../../logo.svg\";\nimport config from '../../config';\nimport messages from '../../services/messages';\n\nconst LaunchingPage: React.FC<{start: () => void}> = ({start}) => {\n    const introduction = messages.get('introduction') as string[] || [];\n    const startMessage = messages.get('start_btn') as string;\n    return (\n        <div className=\"launching-page\">\n            <div className=\"legend\">\n                <div className=\"title\">\n                    <h1>\n                        <img src={logo} alt=\"QRBINGO\" />\n                        QRBINGO\n                    </h1>\n                </div>\n                <div className=\"lang-list\">\n                    {config.languages.map((av) => {\n                        return <a key={av.lang} href={`?lang=${av.lang}`}>{av.label}</a>;\n                    })}\n                </div>\n                <div className=\"introduction\">\n                    <ol>\n                        {introduction.map((line, i) => <li key={i}>\n                            <br /><div>{line}</div>\n                        </li>)}\n                    </ol>\n                </div>\n                <div className=\"start-button-wrapper\">\n                    <button onClick={start}>{startMessage}</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default LaunchingPage;\n","import React, { ReactNode, useState, useEffect } from 'react';\n\n// import closeIcon from \"./close.png\";\n\nimport \"./index.scss\";\n\nconst Modal: React.FC<{\n    close: () => void,\n    show: boolean,\n    content?: ReactNode,\n}> = ({ close, content, show }) => {\n    const [opacity, setOpacity] = useState<number>(0);\n    useEffect(() => {\n        setOpacity(show ? 1 : 0);\n    }, [show]);\n    return (\n        <div className=\"Modal_Container\" style={{ opacity }}>\n            <div className=\"Modal_Content_Wrapper\">\n                <div\n                    className=\"Modal_Content_Background\"\n                    onClick={close}\n                >\n                    <div className=\"Modal_Content\">\n                        {content}\n                    </div>\n                </div>\n            </div>\n            <div className=\"Modal_Background\"></div>\n        </div>\n    );\n};\n\nexport default Modal;\n","import { createContext, ReactNode } from \"react\";\n\nconst ApplicationContext = createContext({\n    modal: null,\n    setModalState: (state: { content?: ReactNode, show: boolean }) => { },\n    closeModal: () => {},\n});\n\nexport default ApplicationContext;\n","import React from 'react';\n\nimport \"../common.scss\";\nimport check from './check.svg';\nimport { Payload } from '../../../../models/qrcode';\n\nimport messages from '../../../../services/messages';\nimport config from '../../../../config';\n\nfunction getFoundValueTexts(values: string[] = []): string[] {\n    // FIXME: ugly\n    return config.bingo.slot.variations\n        .filter(v => values.some(val => val === v.value))\n        .map((v) => v.label.split('\\n').join(''));\n}\n\nconst ModalContentOnFound: React.FC<{\n    payload: Payload,\n    close: () => void,\n}> = ({\n    payload,\n    close,\n}) => {\n    const texts = getFoundValueTexts(payload.value as string[]);\n    const found = messages.get('found', texts);\n    return (\n        <div className=\"Content_Wrapper\">\n            <div className=\"Content_Icon\">\n                <img src={check} alt=\"Found\" />\n            </div>\n            <div className=\"Content_Message\">\n                <div>{found}</div>\n            </div>\n            <div className=\"Content_Actions\">\n                <button onClick={close}>VIEW YOUR CARD</button>\n            </div>\n        </div>\n    );\n};\n\nexport default ModalContentOnFound;\n","import React from 'react';\nimport gift from './gift.svg';\nimport closeicon from './close.png';\nimport \"../common.scss\";\nimport messages from '../../../../services/messages';\n\nconst ModalContentOnBingoSucceeded: React.FC<{\n    close: () => void,\n    count: number,\n}> = ({\n    close,\n    count,\n}) => {\n    const lines = messages.get('congratulations') as string[] || [];\n    const total = messages.get('total_bingo_count', [count]);\n    return (\n        <div className=\"Content_Wrapper\" onClick={close}>\n            <div className=\"Content_Action\" style={{ textAlign: 'right' }}>\n                <img src={closeicon} alt=\"close\" style={{ width: '24px' }} />\n            </div>\n            <div className=\"Content_Icon\">\n                <img src={gift} alt=\"Congraturations!\" />\n            </div>\n            <div className=\"Content_Message\">\n                <h1>BINGO!!!</h1>\n            </div>\n            <div className=\"Content_Message Lines\">\n                {lines.map((line, i) => <p key={i}>{line}</p>)}\n                {total}\n            </div>\n        </div>\n    );\n};\n\nexport default ModalContentOnBingoSucceeded;","import React from 'react';\nimport './index.scss';\n\n/**\n * AppScreen component separates differences between laptop browsers and mobile browsers.\n * Users can just use this component as a parent and provide any children to this.\n */\nconst AppScreen: React.FC<{\n    styles?: React.CSSProperties,\n    children: React.ReactNode,\n}> = ({ styles = {}, children }) => {\n    return (\n        <div className=\"AppScreen_Container\" style={styles} >\n            <div className=\"AppScreen_Main\">\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default AppScreen;\n","import jsqr, { QRCode } from 'jsqr';\n\nfunction getRectOfQRCode(video: HTMLVideoElement, size: { width: number, height: number }): {\n    x: number, y: number, width: number, height: number,\n} {\n    const x = (video.videoWidth  - size.width) / 2;\n    const y = (video.videoHeight - size.height) / 2;\n    return {x, y, ...size};\n}\n\nexport function detectQRCodeFromVideo({\n    video, canvas, size,\n}: {\n    video: HTMLVideoElement | null,\n    canvas: HTMLCanvasElement | null,\n    size: { width: number, height: number },\n}): QRCode | null {\n    if (!canvas) return null;\n    if (!video) return null;\n    const stream = video.srcObject;\n    if (!stream) return null;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return null;\n    const rect = getRectOfQRCode(video, size);\n    ctx.drawImage(\n        video, // Data Source\n        rect.x, rect.y, rect.width, rect.height, // Source Rect\n        0, 0, canvas.width, canvas.height, // Dest Rect\n    );\n    const img = ctx.getImageData(0, 0, video.width, video.height);\n    return jsqr(img.data, video.width, video.height);\n}\n\nexport function detectQRCodeFromImageURL(imageURL: string): Promise<QRCode | null> {\n    return new Promise((resolve) => {\n        const img = new Image();\n        img.src = imageURL;\n        img.onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            [canvas.width, canvas.height] = [img.width, img.height];\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) return;\n            ctx.drawImage(img, 0, 0);\n            const qrcode = jsqr(ctx.getImageData(0, 0, img.width, img.height).data, img.width, img.height);\n            resolve(qrcode);\n        };\n    });\n}","import React, { createRef, RefObject, useEffect } from 'react';\nimport \"./index.scss\";\n\nimport { detectQRCodeFromVideo } from '../../services/Detector';\nimport { QRCodeData } from '../../models/qrcode';\nimport { QRCode } from 'jsqr';\n\nimport left from './caret-left.svg';\n\nconst detect = (video: HTMLVideoElement, size: { width: number, height: number }, callback: (qrcode: QRCode | null) => void) => {\n    const canvas = document.createElement('canvas');\n    [canvas.width, canvas.height] = [video.width, video.height];\n    const qrcode = detectQRCodeFromVideo({ video, canvas, size })\n    callback(qrcode);\n};\n\nconst VideoStream: React.FC<{\n    stream: MediaStream,\n    stop(data?: QRCodeData): void,\n    video: RefObject<HTMLVideoElement>,\n}> = ({ stream, stop, video }) => {\n    const onSuccess = (data: QRCodeData) => {\n        if (video.current) video.current.pause();\n        stop(data);\n    };\n    const area = createRef<HTMLDivElement>();\n    useEffect(() => {\n        const v = video.current;\n        if (!v) return console.error('video tag is not ready');\n        v.srcObject = stream;\n        let id: NodeJS.Timeout;\n        const callback = (qrcode: QRCode | null) => {\n            if (!qrcode) return;\n            clearInterval(id);\n            onSuccess(JSON.parse(qrcode.data) as QRCodeData);\n        };\n        const { offsetWidth: width, offsetHeight: height } = area.current!;\n        id = setInterval(detect.bind(null, v, {width, height}, callback), 1 * 1000);\n    // eslint-disable-next-line\n    }, []);\n    return (\n        <div className=\"Video_Stream_Container\">\n            <div className=\"Video_Stream_Navigation Top\">\n                <div className=\"nav-left\" onClick={() => stop()}>\n                    <img src={left} alt=\"back\" className=\"nav-item-img\" />\n                    <span>Back</span>\n                </div>\n                <div className=\"nav-title\">Scan QR code</div>\n                <div className=\"nav-right\"></div>\n            </div>\n            <div className=\"Video_Stream_Movie\">\n                <div className=\"Video_Stream_Detect_Area\">\n                    <div className=\"Video_Stream_Detect_Area_Line\" ref={area}></div>\n                </div>\n                <video ref={video} muted={true} autoPlay playsInline width={'100%'} height={'100%'} />\n            </div>\n            <div className=\"Video_Stream_Navigation Bottom\">\n                <div className=\"nav-title\">Place code inside the box</div>\n            </div>\n        </div>\n    );\n};\n\nconst VideoScanView: React.FC<{\n    stop(data?: QRCodeData): void,\n    stream: MediaStream,\n}> = ({ stop, stream }) => {\n    const v = createRef<HTMLVideoElement>();\n    return (\n        <div className=\"ScanVideo_Container\">\n            <VideoStream stream={stream} stop={stop} video={v} />\n        </div>\n    );\n};\n\nexport default VideoScanView;\n","import React, { useState, ReactNode } from 'react';\n\n// Models\nimport config from './config';\nimport BingoSheet from \"./models/sheet\";\nimport { QRCodeData } from './models/qrcode';\n\n// Components\nimport Game from './components/Game';\nimport LaunchingPage from './components/LaunchingPage';\nimport Modal from './components/Modal';\nimport ApplicationContext from \"./context/Application\";\nimport ModalContentOnFound from './components/Modal/Contents/OnFound';\nimport ModalContentOnBingoSucceeded from './components/Modal/Contents/OnBingoSucceeded';\nimport AppScreen from './components/AppScreen';\nimport VideoScanView from './components/VideoScan';\n\n// Styles\nimport \"./App.scss\";\n\n// Let mobile app use rear cameras\nconst isMobile = /(iPhone|iPad|iPod|Android)/i.test(navigator.userAgent);\nconst facingMode =  isMobile ? { exact: 'environment' } : 'user';\n\nconst App: React.FC = () => {\n\n  // BingoSheet.drop();\n  const sheet = BingoSheet.exists();\n  const [bingo, updateBingo] = useState({ sheet: sheet as BingoSheet });\n\n  const [modalState, setModalState] = useState<{ content?: ReactNode, show: boolean, resolve?: () => void }>({\n    content: null, show: false,\n  });\n  const closeModal = () => {\n    setTimeout(() => setModalState({ show: false }), 400);\n    setModalState({ show: false, content: modalState.content });\n    if (typeof modalState.resolve === 'function') modalState.resolve();\n  };\n  const showModal = (content: ReactNode) => {\n    return new Promise((resolve) => {\n      setModalState({ show: false, content, resolve });\n      setTimeout(() => setModalState({ show: true, content, resolve }));\n    });\n  };\n\n  const ctx = {\n    modal: null, setModalState: (ms: { modal?: ReactNode, show: boolean }) => setModalState(ms), closeModal,\n  }\n\n  const [stream, setStream] = useState<MediaStream>();\n\n  const punch = async (data: QRCodeData) => {\n    await showModal(<ModalContentOnFound payload={data.payload} close={closeModal} />);\n    const slots = bingo.sheet.hit(data.payload);\n    if (!slots.length) return; // TODO: do something\n    const bingoCount = bingo.sheet.lines.length;\n    updateBingo({ sheet: bingo.sheet.punch(slots) });\n    if (bingoCount < bingo.sheet.lines.length) setTimeout(() => {\n      showModal(<ModalContentOnBingoSucceeded close={closeModal} count={bingo.sheet.lines.length} />);\n    }, 500);\n  };\n\n  const startScanning = async () => {\n    const width = 400; // FIXME\n    const stream = await navigator.mediaDevices.getUserMedia({\n      audio: false, video: { facingMode, width, height: width }\n    });\n    setStream(stream);\n  };\n  const stopScanning = (data?: QRCodeData) => {\n      setTimeout(() => setStream(undefined), 0);\n      if (stream) stream.getTracks().map(track => track.stop())\n      if (data) punch(data);\n  };\n\n  // Game control\n  const reset = () => {\n    if (!window.confirm(\"Are you sure to delete current progress and start new game?\")) return;\n    updateBingo({ sheet: BingoSheet.init(config.bingo).save<BingoSheet>() });\n  };\n  const start = () => updateBingo({ sheet: BingoSheet.init(config.bingo).save<BingoSheet>() });\n\n  const ApplicationStoryContainer = (\n    <AppScreen>\n      {bingo.sheet ?\n        <Game\n          bingo={bingo}\n          reset={reset}\n          startScanning={startScanning}\n        />\n        : <LaunchingPage start={start} />\n      }\n    </AppScreen>\n  );\n\n  const ScanningStoryContainer = (\n    stream ?\n      <AppScreen styles={{ zIndex: 2000 }}>\n        <VideoScanView stream={stream} stop={stopScanning} />\n      </AppScreen>\n      : null\n  );\n\n  const ModalStoryContainer = (\n    modalState.content ?\n      <Modal close={closeModal} {...modalState} />\n      : null\n  );\n\n  return (\n    <ApplicationContext.Provider value={ctx}>\n    <div className=\"App\">\n      {ApplicationStoryContainer}\n      {ScanningStoryContainer}\n      {ModalStoryContainer}\n    </div>\n    </ApplicationContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}